# GUI Architecture Diagram

**ğŸ”— For detailed interrelationship diagrams showing how all components connect, see [`INTERRELATIONSHIP_DIAGRAM.md`](./INTERRELATIONSHIP_DIAGRAM.md)**

## Complete GUI Flow Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER'S BROWSER                                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        gui.html                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Form:                                                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ API Key (password input)                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ API Type (dropdown: OpenAI, GitHub, Stripe, Custom...)     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ Custom URL (if "Custom" selected)                           â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  JavaScript Event Handler:                                           â”‚  â”‚
â”‚  â”‚  form.addEventListener('submit', async (e) => {                     â”‚  â”‚
â”‚  â”‚    const response = await fetch('/api/generate', {                   â”‚  â”‚
â”‚  â”‚      method: 'POST',                                                 â”‚  â”‚
â”‚  â”‚      body: JSON.stringify({ apiKey, apiType, customUrl })           â”‚  â”‚
â”‚  â”‚    });                                                               â”‚  â”‚
â”‚  â”‚    // Display generated code + download button                       â”‚  â”‚
â”‚  â”‚  });                                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ HTTP POST /api/generate
                                    â”‚ { apiKey, apiType, customUrl }
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        NODE.JS SERVER (Port 3000)                           â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        server.js                                     â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Route Handler: POST /api/generate                             â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  1. Parse request body                                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  2. Determine OpenAPI spec based on apiType/apiKey:           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     if (apiKey.startsWith('sk-')) {                            â”‚  â”‚  â”‚
â”‚  â”‚  â”‚       â†’ Create inline OpenAI OpenAPI spec                      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     } else if (apiKey.startsWith('ghp_')) {                     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚       â†’ Fetch GitHub OpenAPI spec from URL                     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     } else if (apiType === 'custom') {                         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚       â†’ Use customUrl directly                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     }                                                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  3. Call generateClientArtifacts(specInput, options)           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  4. Return JSON: { clientCode, fileName, className }          â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ generateClientArtifacts()
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CORE GENERATION PIPELINE                               â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    src/index.ts                                     â”‚  â”‚
â”‚  â”‚                    (Public API Entry Point)                        â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚  generateClientArtifacts(specInput, options)                       â”‚  â”‚
â”‚  â”‚    â”‚                                                               â”‚  â”‚
â”‚  â”‚    â”œâ”€â–¶ normalizeSpec(specInput)                                    â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ If string â†’ check if URL or file path                    â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ If URL â†’ generateSpecFromUrl()                           â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ If file â†’ readFileSync() + JSON.parse()                  â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ Returns: OpenAPISpec object                              â”‚  â”‚
â”‚  â”‚    â”‚                                                               â”‚  â”‚
â”‚  â”‚    â”œâ”€â–¶ new OpenAPIParser(spec)                                    â”‚  â”‚
â”‚  â”‚    â”‚                                                               â”‚  â”‚
â”‚  â”‚    â”œâ”€â–¶ new TypeScriptClientGenerator(parser)                     â”‚  â”‚
â”‚  â”‚    â”‚                                                               â”‚  â”‚
â”‚  â”‚    â”œâ”€â–¶ generator.generate()                                       â”‚  â”‚
â”‚  â”‚    â”‚   Returns: TypeScript code as string                         â”‚  â”‚
â”‚  â”‚    â”‚                                                               â”‚  â”‚
â”‚  â”‚    â””â”€â–¶ Return { className, client, endpoints, baseUrl }          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                                         â”‚
â”‚                                    â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    src/parser.ts                                    â”‚  â”‚
â”‚  â”‚                    (OpenAPIParser)                                 â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚  Constructor:                                                       â”‚  â”‚
â”‚  â”‚    â€¢ Loads spec                                                     â”‚  â”‚
â”‚  â”‚    â€¢ loadSchemas() â†’ Map<string, Schema>                           â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚  extractEndpoints(): Endpoint[]                                    â”‚  â”‚
â”‚  â”‚    â€¢ Iterates through spec.paths                                   â”‚  â”‚
â”‚  â”‚    â€¢ For each path + HTTP method:                                  â”‚  â”‚
â”‚  â”‚      - Extracts operationId, parameters, requestBody, responses   â”‚  â”‚
â”‚  â”‚      - Resolves $ref references                                    â”‚  â”‚
â”‚  â”‚      - Creates Endpoint object                                     â”‚  â”‚
â”‚  â”‚    â€¢ Returns: Array of Endpoint objects                            â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚  resolveSchemaRef($ref): Schema                                    â”‚  â”‚
â”‚  â”‚    â€¢ Looks up schema in schemas Map                               â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚  getBaseUrl(): string                                              â”‚  â”‚
â”‚  â”‚    â€¢ Extracts base URL from spec.servers[0].url                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â”‚                                         â”‚
â”‚                                    â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    src/generator.ts                                  â”‚  â”‚
â”‚  â”‚                    (TypeScriptClientGenerator)                      â”‚  â”‚
â”‚  â”‚                                                                     â”‚  â”‚
â”‚  â”‚  generate(): string                                                â”‚  â”‚
â”‚  â”‚    â”‚                                                               â”‚  â”‚
â”‚  â”‚    â”œâ”€â–¶ generateHeader()                                            â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ File header comment                                       â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ ApiResult<T> discriminated union types                    â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ Interceptor type definitions                             â”‚  â”‚
â”‚  â”‚    â”‚                                                               â”‚  â”‚
â”‚  â”‚    â”œâ”€â–¶ generateTypes()                                             â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ Converts OpenAPI schemas â†’ TypeScript types              â”‚  â”‚
â”‚  â”‚    â”‚   â€¢ Recursive schemaToType() handles:                        â”‚  â”‚
â”‚  â”‚    â”‚     - Primitives (string, number, boolean)                   â”‚  â”‚
â”‚  â”‚    â”‚     - Arrays                                                â”‚  â”‚
â”‚  â”‚    â”‚     - Objects (with nested properties)                       â”‚  â”‚
â”‚  â”‚    â”‚     - References ($ref)                                       â”‚  â”‚
â”‚  â”‚    â”‚     - Enums â†’ union types                                     â”‚  â”‚
â”‚  â”‚    â”‚                                                               â”‚  â”‚
â”‚  â”‚    â””â”€â–¶ generateClientClass()                                       â”‚  â”‚
â”‚  â”‚        â€¢ Class constructor (baseUrl, apiKey, etc.)                 â”‚  â”‚
â”‚  â”‚        â€¢ Authentication methods (setApiKey, setBearerToken)        â”‚  â”‚
â”‚  â”‚        â€¢ Interceptor methods (addRequestInterceptor, etc.)        â”‚  â”‚
â”‚  â”‚        â€¢ Retry configuration (setRetryConfig)                     â”‚  â”‚
â”‚  â”‚        â€¢ internalFetch() - handles HTTP requests with:            â”‚  â”‚
â”‚  â”‚          - Interceptors                                            â”‚  â”‚
â”‚  â”‚          - Authentication headers                                  â”‚  â”‚
â”‚  â”‚          - Retry logic with exponential backoff                   â”‚  â”‚
â”‚  â”‚        â€¢ Per-endpoint methods:                                    â”‚  â”‚
â”‚  â”‚          - Type-safe parameters                                    â”‚  â”‚
â”‚  â”‚          - Path parameter substitution                             â”‚  â”‚
â”‚  â”‚          - Query string building                                   â”‚  â”‚
â”‚  â”‚          - Request body serialization                              â”‚  â”‚
â”‚  â”‚          - Response wrapping in ApiResult<T>                       â”‚  â”‚
â”‚  â”‚          - Full JSDoc documentation                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ Returns generated code string
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SERVER RESPONSE                                      â”‚
â”‚                                                                             â”‚
â”‚  HTTP 200 OK                                                                â”‚
â”‚  {                                                                          â”‚
â”‚    "clientCode": "export type ApiResult<T> = ...",                         â”‚
â”‚    "fileName": "openai-client.ts",                                         â”‚
â”‚    "className": "OpenAIAPIClient"                                           â”‚
â”‚  }                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â”‚ JSON Response
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           USER'S BROWSER                                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        gui.html                                      â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â€¢ Displays generated code in <pre> block                           â”‚  â”‚
â”‚  â”‚  â€¢ Shows download button                                             â”‚  â”‚
â”‚  â”‚  â€¢ Download button creates Blob and triggers download                â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  downloadBtn.onclick = () => {                                       â”‚  â”‚
â”‚  â”‚    const blob = new Blob([data.clientCode], {                       â”‚  â”‚
â”‚  â”‚      type: 'text/typescript'                                          â”‚  â”‚
â”‚  â”‚    });                                                               â”‚  â”‚
â”‚  â”‚    const url = URL.createObjectURL(blob);                           â”‚  â”‚
â”‚  â”‚    const a = document.createElement('a');                           â”‚  â”‚
â”‚  â”‚    a.href = url;                                                    â”‚  â”‚
â”‚  â”‚    a.download = data.fileName;                                      â”‚  â”‚
â”‚  â”‚    a.click();                                                       â”‚  â”‚
â”‚  â”‚  };                                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Interaction Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser    â”‚
â”‚  (gui.html)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. User submits form
       â”‚    { apiKey, apiType, customUrl }
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         server.js                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  POST /api/generate handler   â”‚  â”‚
â”‚  â”‚                                â”‚  â”‚
â”‚  â”‚  1. Parse request              â”‚  â”‚
â”‚  â”‚  2. Determine spec:            â”‚  â”‚
â”‚  â”‚     â€¢ OpenAI? â†’ inline spec   â”‚  â”‚
â”‚  â”‚     â€¢ GitHub? â†’ fetch URL     â”‚  â”‚
â”‚  â”‚     â€¢ Custom? â†’ use URL       â”‚  â”‚
â”‚  â”‚  3. Call generator             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ 2. generateClientArtifacts()
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         src/index.ts                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  normalizeSpec()               â”‚  â”‚
â”‚  â”‚  â€¢ URL? â†’ generateSpecFromUrl â”‚  â”‚
â”‚  â”‚  â€¢ File? â†’ readFileSync        â”‚  â”‚
â”‚  â”‚  â€¢ Object? â†’ use as-is         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                       â”‚
â”‚               â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  new OpenAPIParser(spec)      â”‚  â”‚
â”‚  â”‚  â€¢ loadSchemas()               â”‚  â”‚
â”‚  â”‚  â€¢ extractEndpoints()          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚               â”‚                       â”‚
â”‚               â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  new TypeScriptClientGenerator â”‚  â”‚
â”‚  â”‚  â€¢ generate()                  â”‚  â”‚
â”‚  â”‚    - generateHeader()          â”‚  â”‚
â”‚  â”‚    - generateTypes()           â”‚  â”‚
â”‚  â”‚    - generateClientClass()     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ 3. Return { client, className }
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         server.js                    â”‚
â”‚  â€¢ Send JSON response to browser     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ 4. HTTP 200 Response
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser    â”‚
â”‚  â€¢ Display codeâ”‚
â”‚  â€¢ Download btnâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow: OpenAPI Spec â†’ TypeScript Code

```
OpenAPI JSON Spec
    â”‚
    â”‚ { openapi: "3.0.0",
    â”‚   paths: {
    â”‚     "/users": {
    â”‚       get: { operationId: "listUsers", ... }
    â”‚     }
    â”‚   },
    â”‚   components: {
    â”‚     schemas: {
    â”‚       User: { type: "object", properties: {...} }
    â”‚     }
    â”‚   }
    â”‚ }
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      OpenAPIParser                  â”‚
â”‚                                     â”‚
â”‚  Input: OpenAPISpec                 â”‚
â”‚  Output:                            â”‚
â”‚    â€¢ Endpoint[] = [                 â”‚
â”‚        {                            â”‚
â”‚          method: "get",              â”‚
â”‚          path: "/users",             â”‚
â”‚          operationId: "listUsers",   â”‚
â”‚          parameters: [...],          â”‚
â”‚          responses: {...}            â”‚
â”‚        }                            â”‚
â”‚      ]                               â”‚
â”‚    â€¢ Map<string, Schema> = {        â”‚
â”‚        "User": { type: "object", ...}â”‚
â”‚      }                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TypeScriptClientGenerator          â”‚
â”‚                                     â”‚
â”‚  Input: Parser (with endpoints)    â”‚
â”‚  Output: TypeScript code string    â”‚
â”‚                                     â”‚
â”‚  Generated Code:                    â”‚
â”‚    export type User = {             â”‚
â”‚      name: string;                  â”‚
â”‚      email: string;                  â”‚
â”‚    };                               â”‚
â”‚                                     â”‚
â”‚    export class MyAPIClient {       â”‚
â”‚      async listUsers():             â”‚
â”‚        Promise<ApiResult<User[]>> { â”‚
â”‚        // Implementation            â”‚
â”‚      }                              â”‚
â”‚    }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key TypeScript Transformations

```
OpenAPI Schema                    â†’    TypeScript Type
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{ type: "string" }                â†’    string
{ type: "number" }                â†’    number
{ type: "boolean" }                â†’    boolean
{ type: "array", items: {...} }   â†’    Array<...>
{ type: "object",                 â†’    { name: string;
  properties: {                      email: string; }
    name: { type: "string" },
    email: { type: "string" }
  }
}
{ type: "string",                  â†’    "active" | "inactive"
  enum: ["active", "inactive"] }
{ $ref: "#/components/          â†’    User (resolved reference)
  schemas/User" }
```

## File Structure Overview

```
github/
â”‚
â”œâ”€â”€ gui.html                    â† Browser UI (HTML + JavaScript)
â”‚
â”œâ”€â”€ server.js                   â† HTTP Server (Node.js)
â”‚   â€¢ Serves GUI
â”‚   â€¢ Handles /api/generate
â”‚   â€¢ Determines OpenAPI spec
â”‚   â€¢ Calls generator
â”‚
â””â”€â”€ src/
    â”‚
    â”œâ”€â”€ index.ts                â† Public API Entry Point
    â”‚   â€¢ generateClientArtifacts()
    â”‚   â€¢ normalizeSpec()
    â”‚   â€¢ generateSpecFromUrl()
    â”‚
    â”œâ”€â”€ parser.ts                â† OpenAPI Parser
    â”‚   â€¢ OpenAPIParser class
    â”‚   â€¢ extractEndpoints()
    â”‚   â€¢ loadSchemas()
    â”‚   â€¢ resolveSchemaRef()
    â”‚
    â”œâ”€â”€ generator.ts             â† Code Generator
    â”‚   â€¢ TypeScriptClientGenerator class
    â”‚   â€¢ generate()
    â”‚   â€¢ schemaToType()
    â”‚   â€¢ generateClientClass()
    â”‚
    â”œâ”€â”€ types.ts                 â† Type Definitions
    â”‚   â€¢ OpenAPISpec interface
    â”‚   â€¢ Endpoint interface
    â”‚   â€¢ Schema type
    â”‚
    â””â”€â”€ example-generator.ts     â† Example Code Generator
        â€¢ ExampleGenerator class
        â€¢ generate()
```

## Request/Response Cycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ POST /api/generate
       â”‚ Content-Type: application/json
       â”‚ { "apiKey": "sk-...", "apiType": "openai" }
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   server.js     â”‚
â”‚                 â”‚
â”‚  â€¢ Receives POSTâ”‚
â”‚  â€¢ Determines   â”‚
â”‚    OpenAPI spec â”‚
â”‚  â€¢ Calls        â”‚
â”‚    generator    â”‚
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ generateClientArtifacts()
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Core Pipeline  â”‚
â”‚  (index.ts â†’    â”‚
â”‚   parser.ts â†’   â”‚
â”‚   generator.ts) â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Returns:
       â”‚ {
       â”‚   clientCode: "...",
       â”‚   fileName: "openai-client.ts",
       â”‚   className: "OpenAIAPIClient"
       â”‚ }
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   server.js     â”‚
â”‚                 â”‚
â”‚  â€¢ Sends JSON   â”‚
â”‚    response     â”‚
â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ HTTP 200 OK
       â”‚ { clientCode, fileName, className }
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚
â”‚             â”‚
â”‚  â€¢ Display  â”‚
â”‚    code     â”‚
â”‚  â€¢ Download â”‚
â”‚    button   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

